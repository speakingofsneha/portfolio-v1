import{r as o}from"./index.B80Lgev0.js";let n=[],a=(i,r)=>{let s=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},l:0,lc:0,listen(l,u){return t.lc=s.push(l,u||t.l)/2,()=>{let e=s.indexOf(l);~e&&(s.splice(e,2),--t.lc||t.off())}},notify(l){let u=!n.length;for(let e=0;e<s.length;e+=2)n.push(s[e],s[e+1],t.value,l);if(u){for(let e=0;e<n.length;e+=4){let f;for(let c=e+1;!f&&(c+=4)<n.length;)n[c]<n[e+1]&&(f=n.push(n[e],n[e+1],n[e+2],n[e+3]));f||n[e](n[e+2],n[e+3])}n.length=0}},off(){},set(l){t.value!==l&&(t.value=l,t.notify())},subscribe(l,u){let e=t.listen(l,u);return l(t.value),e},value:i};return t};function b(i,r,s){let t=new Set([...r,void 0]);return i.listen((l,u)=>{t.has(u)&&s(l,u)})}function y(i,r={}){let s=o.useCallback(l=>r.keys?b(i,r.keys,l):i.listen(l),[r.keys,i]),t=i.get.bind(i);return o.useSyncExternalStore(s,t,t)}const d=a("all"),g=a("all"),h=a("none");export{d as a,h as b,g as s,y as u};
